function showLoginBox(){login_box_template='<div id="login-modal"><div style="width:100%;height:100%;position:fixed;z-index:2000;top:0;left:0;overflow:hidden" onclick="hideLoginBox()"><div style="height:100%;opacity:.4;background:#000"></div></div><div class="modal"><div class="modal-header clearfix"><h2 class="l">登录</h2><div class="register pull-right">      没有账号？<a href="${rootPath}/register"><strong>立即注册</strong></a></div></div><div class="modal-body"><form id="loginForm"><div class="control-group"><div class="user-id"><input type="text" placeholder="请输入邮箱/用户名" name="email" onfocus="loginInputFocus(this)" onblur="loginInputBlur(this)" /></div></div><div class="control-group"><div class="user-pw"><input type="password" name="password" placeholder="请输入密码" onfocus="loginInputFocus(this)" onblur="loginInputBlur(this)" /></div></div><div class="errorMsg" "=""></div><div class="control-group"><div class="r"><button type="button" onclick="userLogin()" class="btn btn-primary btn-login">登录</button></div></div></form></div></div></div>',$("body").append(login_box_template)}function loginInputFocus(e){$(e).parent().parent().addClass("active")}function loginInputBlur(e){$(e).parent().parent().removeClass("active")}function hideLoginBox(){$("#login-modal").remove()}function getFlashHtml(e,t){var s={};s.vars={},s.vars.http={},s.mode="vod",s.player="flash",s.id="VJTVPlayer",s.width="100%",s.height="100%",s.swfUrl="/xst/assets/player/VJTVPlayer.swf",s.vars.src=e,s.vars.speedurl="/assets/download/VJOcx3-ch-full-setup.exe",s.vars.point="/xmlurl/marks?id=213",cg.src=e;var i=/^\d{1,}$/;"undefined"!=typeof stime&&i.test(stime)&&(s.vars.startTime=stime);var o=new Player(s),n=o.showflashplayer();console.log(n),cg.player=n,console.log(t),t.replaceWith(n)}$("#loginButton").click(function(){showLoginBox()}),$(document).ready(function(){$("#select1 dd").click(function(){if($(this).addClass("selected").siblings().removeClass("selected"),$(this).hasClass("select-all"))$("#selectA").remove();else{var e=$(this).clone();$("#selectA").length>0?$("#selectA a").html($(this).text()):$(".select-result dl").append(e.attr("id","selectA"))}}),$("#select2 dd").click(function(){if($(this).addClass("selected").siblings().removeClass("selected"),$(this).hasClass("select-all"))$("#selectB").remove();else{var e=$(this).clone();$("#selectB").length>0?$("#selectB a").html($(this).text()):$(".select-result dl").append(e.attr("id","selectB"))}}),$("#select3 dd").click(function(){if($(this).addClass("selected").siblings().removeClass("selected"),$(this).hasClass("select-all"))$("#selectC").remove();else{var e=$(this).clone();$("#selectC").length>0?$("#selectC a").html($(this).text()):$(".select-result dl").append(e.attr("id","selectC"))}}),$(document).on("click",".select dd",function(){$(".select-result dd").length>1?$(".select-no").hide():$(".select-no").show()})});var cg={};!function(e,t,s,i){"use strict";var o="treeview",n={};n.settings={injectStyle:!0,levels:2,categoryUrl:i,expandIcon:"fa fa-plus",collapseIcon:"fa fa-minus",emptyIcon:"fa",nodeIcon:"",selectedIcon:"",checkedIcon:"fa fa-check",uncheckedIcon:"fa fa-unchecked",color:i,backColor:i,borderColor:i,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:i,enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showCheckbox:!1,showTags:!1,multiSelect:!1,onNodeChecked:i,onNodeCollapsed:i,onNodeDisabled:i,onNodeEnabled:i,onNodeExpanded:i,onNodeSelected:i,onNodeUnchecked:i,onNodeUnselected:i,onSearchComplete:i,onSearchCleared:i},n.options={silent:!1,ignoreChildren:!1},n.searchOptions={ignoreCase:!0,exactMatch:!1,revealResults:!0};var d=function(t,s){return this.$element=e(t),this.elementId=t.id,this.styleId=this.elementId+"-style",this.init(s),{options:this.options,init:e.proxy(this.init,this),remove:e.proxy(this.remove,this),getNode:e.proxy(this.getNode,this),getParent:e.proxy(this.getParent,this),getSiblings:e.proxy(this.getSiblings,this),getSelected:e.proxy(this.getSelected,this),getUnselected:e.proxy(this.getUnselected,this),getExpanded:e.proxy(this.getExpanded,this),getCollapsed:e.proxy(this.getCollapsed,this),getChecked:e.proxy(this.getChecked,this),getUnchecked:e.proxy(this.getUnchecked,this),getDisabled:e.proxy(this.getDisabled,this),getEnabled:e.proxy(this.getEnabled,this),selectNode:e.proxy(this.selectNode,this),unselectNode:e.proxy(this.unselectNode,this),toggleNodeSelected:e.proxy(this.toggleNodeSelected,this),collapseAll:e.proxy(this.collapseAll,this),collapseNode:e.proxy(this.collapseNode,this),expandAll:e.proxy(this.expandAll,this),expandNode:e.proxy(this.expandNode,this),toggleNodeExpanded:e.proxy(this.toggleNodeExpanded,this),revealNode:e.proxy(this.revealNode,this),checkAll:e.proxy(this.checkAll,this),checkNode:e.proxy(this.checkNode,this),uncheckAll:e.proxy(this.uncheckAll,this),uncheckNode:e.proxy(this.uncheckNode,this),toggleNodeChecked:e.proxy(this.toggleNodeChecked,this),disableAll:e.proxy(this.disableAll,this),disableNode:e.proxy(this.disableNode,this),enableAll:e.proxy(this.enableAll,this),enableNode:e.proxy(this.enableNode,this),toggleNodeDisabled:e.proxy(this.toggleNodeDisabled,this),search:e.proxy(this.search,this),clearSearch:e.proxy(this.clearSearch,this),render:e.proxy(this.render,this)}};d.prototype.init=function(t){this.tree=[],this.nodes=[],t.data&&("string"==typeof t.data&&(t.data=e.parseJSON(t.data)),this.tree=e.extend(!0,[],t.data),delete t.data),this.options=e.extend({},n.settings,t),this.destroy(),this.subscribeEvents(),this.setInitialStates({nodes:this.tree},0),this.render()},d.prototype.remove=function(){this.destroy(),e.removeData(this,o),e("#"+this.styleId).remove()},d.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},d.prototype.unsubscribeEvents=function(){this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},d.prototype.subscribeEvents=function(){this.unsubscribeEvents(),this.$element.on("click",e.proxy(this.clickHandler,this)),"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked),"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed),"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled),"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled),"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded),"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",this.options.onNodeSelected),"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked),"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected),"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete),"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)},d.prototype.setInitialStates=function(t,s){if(t.nodes){s+=1;var i=t,o=this;e.each(t.nodes,function(e,t){t.nodeId=o.nodes.length,t.parentId=i.nodeId,t.hasOwnProperty("selectable")||(t.selectable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("expanded")||(!t.state.disabled&&s<o.options.levels&&t.nodes&&t.nodes.length>0?t.state.expanded=!0:t.state.expanded=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),o.nodes.push(t),t.nodes&&o.setInitialStates(t,s)})}},d.prototype.clickHandler=function(t){this.options.enableLinks||t.preventDefault();var s=e(t.target),i=this.findNode(s);if(i&&!i.state.disabled){var o=s.attr("class")?s.attr("class").split(" "):[];-1!==o.indexOf("expand-icon")?(this.toggleExpandedState(i,n.options),this.render()):-1!==o.indexOf("check-icon")?(this.toggleCheckedState(i,n.options),this.render()):(i.selectable?this.toggleSelectedState(i,n.options):(console.log(i),!i.nodes&&i.hasChild?this.addChild(i,i.id):this.toggleExpandedState(i,n.options)),this.render())}},d.prototype.addChild=function(t,s){var i=this;e.getJSON(this.options.categoryUrl+s,function(s){var o=new Array;e.each(s,function(e,t){e>0&&(t.existChild?o.push({id:t.id,text:t.name,hasChild:!0,selectable:!1}):o.push({id:t.id,text:t.name,hasChild:!1,selectable:!1,href:i.options.resourceUrl+t.id}))}),t.nodes=o,i.setInitialStates(t,i.options.level),i.toggleExpandedState(t,n.options),i.render()})},d.prototype.findNode=function(e){var t=e.closest("li.list-group-item").attr("data-nodeid"),s=this.nodes[t];return s||console.log("Error: node does not exist"),s},d.prototype.toggleExpandedState=function(e,t){e&&this.setExpandedState(e,!e.state.expanded,t)},d.prototype.setExpandedState=function(t,s,i){s!==t.state.expanded&&(s&&t.nodes?(t.state.expanded=!0,i.silent||this.$element.trigger("nodeExpanded",e.extend(!0,{},t))):s||(t.state.expanded=!1,i.silent||this.$element.trigger("nodeCollapsed",e.extend(!0,{},t)),t.nodes&&!i.ignoreChildren&&e.each(t.nodes,e.proxy(function(e,t){this.setExpandedState(t,!1,i)},this))))},d.prototype.toggleSelectedState=function(e,t){e&&this.setSelectedState(e,!e.state.selected,t)},d.prototype.setSelectedState=function(t,s,i){s!==t.state.selected&&(s?(this.options.multiSelect||e.each(this.findNodes("true","g","state.selected"),e.proxy(function(e,t){this.setSelectedState(t,!1,i)},this)),t.state.selected=!0,i.silent||this.$element.trigger("nodeSelected",e.extend(!0,{},t))):(t.state.selected=!1,i.silent||this.$element.trigger("nodeUnselected",e.extend(!0,{},t))))},d.prototype.toggleCheckedState=function(e,t){e&&this.setCheckedState(e,!e.state.checked,t)},d.prototype.setCheckedState=function(t,s,i){s!==t.state.checked&&(s?(t.state.checked=!0,i.silent||this.$element.trigger("nodeChecked",e.extend(!0,{},t))):(t.state.checked=!1,i.silent||this.$element.trigger("nodeUnchecked",e.extend(!0,{},t))))},d.prototype.setDisabledState=function(t,s,i){s!==t.state.disabled&&(s?(t.state.disabled=!0,this.setExpandedState(t,!1,i),this.setSelectedState(t,!1,i),this.setCheckedState(t,!1,i),i.silent||this.$element.trigger("nodeDisabled",e.extend(!0,{},t))):(t.state.disabled=!1,i.silent||this.$element.trigger("nodeEnabled",e.extend(!0,{},t))))},d.prototype.render=function(){this.initialized||(this.$element.addClass(o),this.$wrapper=e(this.template.list),this.injectStyle(),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.buildTree(this.tree,0)},d.prototype.buildTree=function(t,s){if(t){s+=1;var i=this;e.each(t,function(t,o){for(var n=e(i.template.item).addClass("node-"+i.elementId).addClass(o.state.checked?"node-checked":"").addClass(o.state.disabled?"node-disabled":"").addClass(o.state.selected?"node-selected":"").addClass(o.searchResult?"search-result":"").attr("data-nodeid",o.nodeId).attr("style",i.buildStyleOverride(o)),d=0;s-1>d;d++)n.append(i.template.indent);var r=[];if(o.nodes?(r.push("expand-icon"),o.state.expanded?r.push(i.options.collapseIcon):r.push(i.options.expandIcon)):r.push(i.options.emptyIcon),n.append(e(i.template.icon).addClass(r.join(" "))),i.options.showIcon){var r=["node-icon"];r.push(o.icon||i.options.nodeIcon),o.state.selected&&(r.pop(),r.push(o.selectedIcon||i.options.selectedIcon||o.icon||i.options.nodeIcon)),n.append(e(i.template.icon).addClass(r.join(" ")))}if(i.options.showCheckbox){var r=["check-icon"];o.state.checked?r.push(i.options.checkedIcon):r.push(i.options.uncheckedIcon),n.append(e(i.template.icon).addClass(r.join(" ")))}return i.options.enableLinks?n.append(e(i.template.link).attr("href",o.href).append(o.text)):n.append(o.text),i.options.showTags&&o.tags&&e.each(o.tags,function(t,s){n.append(e(i.template.badge).append(s))}),i.$wrapper.append(n),o.nodes&&o.state.expanded&&!o.state.disabled?i.buildTree(o.nodes,s):void 0})}},d.prototype.buildStyleOverride=function(e){if(e.state.disabled)return"";var t=e.color,s=e.backColor;return this.options.highlightSelected&&e.state.selected&&(this.options.selectedColor&&(t=this.options.selectedColor),this.options.selectedBackColor&&(s=this.options.selectedBackColor)),this.options.highlightSearchResults&&e.searchResult&&!e.state.disabled&&(this.options.searchResultColor&&(t=this.options.searchResultColor),this.options.searchResultBackColor&&(s=this.options.searchResultBackColor)),"color:"+t+";background-color:"+s+";"},d.prototype.injectStyle=function(){this.options.injectStyle&&!s.getElementById(this.styleId)&&e('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")},d.prototype.buildStyle=function(){var e=".node-"+this.elementId+"{";return this.options.color&&(e+="color:"+this.options.color+";"),this.options.backColor&&(e+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(e+="border:1px solid "+this.options.borderColor+";"):e+="border:none;",e+="}",this.options.onhoverColor&&(e+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.onhoverColor+";}"),this.css+e},d.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'},d.prototype.css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}",d.prototype.getNode=function(e){return this.nodes[e]},d.prototype.getParent=function(e){var t=this.identifyNode(e);return this.nodes[t.parentId]},d.prototype.getSiblings=function(e){var t=this.identifyNode(e),s=this.getParent(t),i=s?s.nodes:this.tree;return i.filter(function(e){return e.nodeId!==t.nodeId})},d.prototype.getSelected=function(){return this.findNodes("true","g","state.selected")},d.prototype.getUnselected=function(){return this.findNodes("false","g","state.selected")},d.prototype.getExpanded=function(){return this.findNodes("true","g","state.expanded")},d.prototype.getCollapsed=function(){return this.findNodes("false","g","state.expanded")},d.prototype.getChecked=function(){return this.findNodes("true","g","state.checked")},d.prototype.getUnchecked=function(){return this.findNodes("false","g","state.checked")},d.prototype.getDisabled=function(){return this.findNodes("true","g","state.disabled")},d.prototype.getEnabled=function(){return this.findNodes("false","g","state.disabled")},d.prototype.selectNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setSelectedState(e,!0,t)},this)),this.render()},d.prototype.unselectNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setSelectedState(e,!1,t)},this)),this.render()},d.prototype.toggleNodeSelected=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.toggleSelectedState(e,t)},this)),this.render()},d.prototype.collapseAll=function(t){var s=this.findNodes("true","g","state.expanded");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},d.prototype.collapseNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},d.prototype.expandAll=function(t){if(t=e.extend({},n.options,t),t&&t.levels)this.expandLevels(this.tree,t.levels,t);else{var s=this.findNodes("false","g","state.expanded");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setExpandedState(e,!0,t)},this))}this.render()},d.prototype.expandNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setExpandedState(e,!0,t),e.nodes&&t&&t.levels&&this.expandLevels(e.nodes,t.levels-1,t)},this)),this.render()},d.prototype.expandLevels=function(t,s,i){i=e.extend({},n.options,i),e.each(t,e.proxy(function(e,t){this.setExpandedState(t,s>0,i),t.nodes&&this.expandLevels(t.nodes,s-1,i)},this))},d.prototype.revealNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){for(var s=this.getParent(e);s;)this.setExpandedState(s,!0,t),s=this.getParent(s)},this)),this.render()},d.prototype.toggleNodeExpanded=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.toggleExpandedState(e,t)},this)),this.render()},d.prototype.checkAll=function(t){var s=this.findNodes("false","g","state.checked");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},d.prototype.checkNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},d.prototype.uncheckAll=function(t){var s=this.findNodes("true","g","state.checked");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},d.prototype.uncheckNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},d.prototype.toggleNodeChecked=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.toggleCheckedState(e,t)},this)),this.render()},d.prototype.disableAll=function(t){var s=this.findNodes("false","g","state.disabled");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},d.prototype.disableNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},d.prototype.enableAll=function(t){var s=this.findNodes("true","g","state.disabled");this.forEachIdentifier(s,t,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},d.prototype.enableNode=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},d.prototype.toggleNodeDisabled=function(t,s){this.forEachIdentifier(t,s,e.proxy(function(e,t){this.setDisabledState(e,!e.state.disabled,t)},this)),this.render()},d.prototype.forEachIdentifier=function(t,s,i){s=e.extend({},n.options,s),t instanceof Array||(t=[t]),e.each(t,e.proxy(function(e,t){i(this.identifyNode(t),s)},this))},d.prototype.identifyNode=function(e){return"number"==typeof e?this.nodes[e]:e},d.prototype.search=function(t,s){s=e.extend({},n.searchOptions,s),this.clearSearch({render:!1});var i=[];if(t&&t.length>0){s.exactMatch&&(t="^"+t+"$");var o="g";s.ignoreCase&&(o+="i"),i=this.findNodes(t,o),e.each(i,function(e,t){t.searchResult=!0})}return s.revealResults?this.revealNode(i):this.render(),this.$element.trigger("searchComplete",e.extend(!0,{},i)),i},d.prototype.clearSearch=function(t){t=e.extend({},{render:!0},t);var s=e.each(this.findNodes("true","g","searchResult"),function(e,t){t.searchResult=!1});t.render&&this.render(),this.$element.trigger("searchCleared",e.extend(!0,{},s))},d.prototype.findNodes=function(t,s,i){s=s||"g",i=i||"text";var o=this;return e.grep(this.nodes,function(e){var n=o.getNodeValue(e,i);return"string"==typeof n?n.match(new RegExp(t,s)):void 0})},d.prototype.getNodeValue=function(e,t){var s=t.indexOf(".");if(s>0){var o=e[t.substring(0,s)],n=t.substring(s+1,t.length);return this.getNodeValue(o,n)}return e.hasOwnProperty(t)?e[t].toString():i};var r=function(e){t.console&&t.console.error(e)};e.fn[o]=function(t,s){var i;return this.each(function(){var n=e.data(this,o);"string"==typeof t?n?e.isFunction(n[t])&&"_"!==t.charAt(0)?(s instanceof Array||(s=[s]),i=n[t].apply(n,s)):r("No such method : "+t):r("Not initialized, can not call method : "+t):"boolean"==typeof t?i=n:e.data(this,o,new d(this,e.extend(!0,{},t)))}),i||this}}(jQuery,window,document),function(e,t){if(!e)return t;var s=function(){this.el=t,this.items=t,this.sizes=[],this.max=[0,0],this.current=0,this.interval=t,this.opts={speed:500,delay:3e3,complete:t,keys:!t,dots:t,fluid:t};var s=this;this.init=function(t,s){return this.el=t,this.ul=t.children("ul"),this.max=[t.outerWidth(),t.outerHeight()],this.items=this.ul.children("li").each(this.calculate),this.opts=e.extend(this.opts,s),this.setup(),this},this.calculate=function(t){var i=e(this),o=i.outerWidth(),n=i.outerHeight();s.sizes[t]=[o,n],o>s.max[0]&&(s.max[0]=o),n>s.max[1]&&(s.max[1]=n)},this.setup=function(){if(this.el.css({overflow:"hidden",width:s.max[0],height:this.items.first().outerHeight()}),this.ul.css({width:100*this.items.length+"%",position:"relative"}),this.items.css("width",100/this.items.length+"%"),this.opts.delay!==t&&(this.start(),this.el.hover(this.stop,this.start)),this.opts.keys&&e(document).keydown(this.keys),this.opts.dots&&this.dots(),this.opts.fluid){var i=function(){s.el.css("width",Math.min(Math.round(s.el.outerWidth()/s.el.parent().outerWidth()*100),100)+"%")};i(),e(window).resize(i)}this.opts.arrows&&this.el.parent().append('<p class="arrows"><span class="prev">鈫�</span><span class="next">鈫�</span></p>').find(".arrows span").click(function(){e.isFunction(s[this.className])&&s[this.className]()}),e.event.swipe&&this.el.on("swipeleft",s.prev).on("swiperight",s.next)},this.move=function(t,i){this.items.eq(t).length||(t=0),0>t&&(t=this.items.length-1);var o=this.items.eq(t),n={height:o.outerHeight()},d=i?5:this.opts.speed;this.ul.is(":animated")||(s.el.find(".dot:eq("+t+")").addClass("active").siblings().removeClass("active"),this.el.animate(n,d)&&this.ul.animate(e.extend({left:"-"+t+"00%"},n),d,function(o){s.current=t,e.isFunction(s.opts.complete)&&!i&&s.opts.complete(s.el)}))},this.start=function(){s.interval=setInterval(function(){s.move(s.current+1)},s.opts.delay)},this.stop=function(){return s.interval=clearInterval(s.interval),s},this.keys=function(t){var i=t.which,o={37:s.prev,39:s.next,27:s.stop};e.isFunction(o[i])&&o[i]()},this.next=function(){return s.stop().move(s.current+1)},this.prev=function(){return s.stop().move(s.current-1)},this.dots=function(){var t='<ol class="dots">';e.each(this.items,function(e){t+='<li class="dot'+(1>e?" active":"")+'">'+(e+1)+"</li>"}),t+="</ol>",this.el.addClass("has-dots").append(t).find(".dot").click(function(){s.move(e(this).index())})}};e.fn.unslider=function(t){var i=this.length;return this.each(function(o){var n=e(this),d=(new s).init(n,t);n.data("unslider"+(i>1?"-"+(o+1):""),d)})}}(window.jQuery,!1);var browser={versions:function(){for(var e=navigator.userAgent,t=(navigator.appVersion,new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","Mobile")),s=!1,i=0;i<t.length;i++)if(-1!=e.indexOf(t[i])){s=!0;break}return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:s,ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),html5:"undefined"!=typeof Worker||!!document.createElement("video").canPlayType}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},Player=function(e){this.id=e.id||"VJTVPlayer",this.width=e.width||"100%",this.height=e.height||"100%",this.swfUrl=e.swfUrl||"VJTVPlayer.swf",this.flurl=e.vars||{},this.codebase=e.codebase||"",this.mode=e.mode||"vod",this.player=e.player||"auto",this.mime=e.mime||"flv",this.generateflashobj=function(e,t,s){var i="";i+="<object ";for(var o in e)i+=o+'="'+e[o]+'" ';i+=">";for(var o in t)i+='<param name="'+o+'" value="'+t[o]+'" /> ';return i+="</object>"},this.generatep2pobj=function(e,t){var s="";s+="<object ";for(var i in e)s+=i+'="'+e[i]+'" ';s+=">";for(var i in t)s+='<param name="'+i+'" value="'+t[i]+'" /> ';return s+="</object>"},this.generatehtml5obj=function(e,t){var s="";s+="<video ";for(var i in e)s+=i+'="'+e[i]+'" ';s+=">";for(var i in t)s+='<source type="'+i+'" src="'+t[i]+'" /> ';return s+="</video>"},this.showflashplayer=function(){var e=new Object,t=new Object,s=new Object;e.width=this.width,e.height=this.height,e.id=this.id,browser.versions.trident&&(e.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",t.movie=this.swfUrl,s.src=this.swfUrl),e.type="application/x-shockwave-flash",e.data=this.swfUrl,t.allowScriptAccess="always",t.allowFullScreen="true",t.quality="high",t.devicefont="false",t.play="true",t.loop="true",t.wmode="window",t.scale="showall",s.quality="high",s.allowScriptAccess="always",s.allowFullScreen="true",s.devicefont="false",s.play="true",s.loop="true",s.wmode="window",s.scale="showall",s.type="application/x-shockwave-flash",s.pluginspage="http://www.macromedia.com/go/getflashplayer",s.width=this.width,s.height=this.height;var i;if(this.flurl&&"object"==typeof this.flurl)for(var o in this.flurl)"http"!==o&&("undefined"!=typeof i?i+="&"+o+"="+this.flurl[o]:i=o+"="+this.flurl[o]);return t.flashvars=i,s.flashvars=i,this.generateflashobj(e,t,s)},this.showp2player=function(){var e=new Object,t=new Object;if(e.classid="CLSID:174012D5-4141-44D6-8F44-729BB97C56EB",e.codebase=this.codebase,e.width=this.width,e.height=this.height,e.id=this.id,t.AutoPlay="true",t.PlayMode="full",this.flurl&&"object"==typeof this.flurl)for(var s in this.flurl)"http"!==s&&(t[s]=this.flurl[s]);return this.generatep2pobj(e,t)},this.showhtml5player=function(){var e=new Object,t=new Object;return e.width=this.width,e.height=this.height,e.id=this.id,e.controls="controls",e.preload="preload",e.autoplay="autoplay","live"===this.mode?e.src=this.flurl.http.live:(t["video/mp4"]=this.flurl.http.mp4,t["video/ogg"]=this.flurl.http.ogg,t["video/webm"]=this.flurl.http.webm),this.generatehtml5obj(e,t)},this.write=function(){var e=this.playertype();switch("html5"!==e&&("auto"!==this.player?e=this.player:"p2p"!==e&&""!==this.mime&&"flv"!==this.mime&&(e="p2p")),e){case"html5":browser.versions.html5?document.write(this.showhtml5player()):document.write("<font color='red'>您的浏览器不支持HTML5，无法播放视频!</font>");break;case"p2p":document.write(this.showp2player());break;case"flash":document.write(this.showflashplayer());break;default:document.write("error")}},this.playertype=function(){return browser.versions.mobile?"html5":browser.versions.trident&&this.activeExist("VJ.VodClient.3")?"p2p":"flash"},this.activeExist=function(e){try{var t;return t=new ActiveXObject(e),!!t}catch(s){return!1}}};